(function(c,d,f){'use strict';function g(ab){if(m=d.documentElement,o=d.body,$(),Ba=this,ab=ab||{},Ia=ab.constants||{},ab.easing)for(var bb in ab.easing)ba[bb]=ab.easing[bb];Wa=ab.edgeStrategy||'set',Ea={beforerender:ab.beforerender,render:ab.render,keyframe:ab.keyframe},Fa=!1!==ab.forceHeight,Fa&&(Ha=ab.scale||1),Ja=ab.mobileDeceleration||4e-3,Ra=!1!==ab.smoothScrolling,Sa=ab.smoothScrollingDuration||200,Ta={targetTop:Ba.getScrollTop()},Xa=(ab.mobileCheck||function(){return /Android|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent||navigator.vendor||c.opera)})(),Xa?(Da=d.getElementById(ab.skrollrBody||'skrollr-body'),Da&&na(),ca(),wa(m,[z,C],[A])):wa(m,[z,B],[A]),Ba.refresh(),oa(c,'resize orientationchange',function(){var db=m.clientWidth,eb=m.clientHeight;(eb!==Oa||db!==Na)&&(Oa=eb,Na=db,Pa=!0)});var cb=_();return function db(){fa(),_a=cb(db)}(),Ba}var h={get:function(){return Ba},init:function(ab){return Ba||new g(ab)},VERSION:'0.6.30'},i=Object.prototype.hasOwnProperty,j=c.Math,l=c.getComputedStyle,m,o,q='touchstart',r='touchmove',t='touchcancel',u='touchend',v='skrollable',w=v+'-before',x=v+'-between',y=v+'-after',z='skrollr',A='no-'+z,B=z+'-desktop',C=z+'-mobile',D='linear',J='end',K='center',L='bottom',M='___skrollable_id',N=/^(?:input|textarea|button|select)$/i,O=/^\s+|\s+$/g,P=/^data(?:-(_\w+))?(?:-?(-?\d*\.?\d+p?))?(?:-?(start|end|top|center|bottom))?(?:-?(top|center|bottom))?$/,Q=/\s*(@?[\w\-\[\]]+)\s*:\s*(.+?)\s*(?:;|$)/gi,R=/^(@?[a-z\-]+)\[(\w+)\]$/,S=/-([a-z0-9_])/g,T=function(ab,bb){return bb.toUpperCase()},U=/[\-+]?[\d]*\.?[\d]+/g,V=/\{\?\}/g,W=/rgba?\(\s*-?\d+\s*,\s*-?\d+\s*,\s*-?\d+/g,X=/[a-z\-]+-gradient/g,Y='',Z='',$=function(){var ab=/^(?:O|Moz|webkit|ms)|(?:-(?:o|moz|webkit|ms)-)/;if(l){var bb=l(o,null);for(var cb in bb)if(Y=cb.match(ab)||+cb==cb&&bb[cb].match(ab),Y)break;return Y?void(Y=Y[0],'-'===Y.slice(0,1)?(Z=Y,Y={'-webkit-':'webkit','-moz-':'Moz','-ms-':'ms','-o-':'O'}[Y]):Z='-'+Y.toLowerCase()+'-'):void(Y=Z='')}},_=function(){var ab=c.requestAnimationFrame||c[Y.toLowerCase()+'RequestAnimationFrame'],bb=za();return(Xa||!ab)&&(ab=function(cb){var db=za()-bb,eb=j.max(0,1e3/60-db);return c.setTimeout(function(){bb=za(),cb()},eb)}),ab},aa=function(){var ab=c.cancelAnimationFrame||c[Y.toLowerCase()+'CancelAnimationFrame'];return(Xa||!ab)&&(ab=function(bb){return c.clearTimeout(bb)}),ab},ba={begin:function(){return 0},end:function(){return 1},linear:function(ab){return ab},quadratic:function(ab){return ab*ab},cubic:function(ab){return ab*ab*ab},swing:function(ab){return-j.cos(ab*j.PI)/2+0.5},sqrt:function(ab){return j.sqrt(ab)},outCubic:function(ab){return j.pow(ab-1,3)+1},bounce:function(ab){var bb;if(0.5083>=ab)bb=3;else if(0.8489>=ab)bb=9;else if(0.96208>=ab)bb=27;else if(0.99981>=ab)bb=91;else return 1;return 1-j.abs(3*j.cos(1.028*(ab*bb))/bb)}};g.prototype.refresh=function(ab){var bb,cb,db=!1;for(ab===f?(db=!0,Ca=[],Va=0,ab=d.getElementsByTagName('*')):ab.length===f&&(ab=[ab]),bb=0,cb=ab.length;bb<cb;bb++){var eb=ab[bb],fb=eb,gb=[],hb=Ra,ib=Wa,jb=!1;if(db&&M in eb&&delete eb[M],!!eb.attributes){for(var mb,kb=0,lb=eb.attributes.length;kb<lb;kb++){if(mb=eb.attributes[kb],'data-anchor-target'===mb.name){if(fb=d.querySelector(mb.value),null===fb)throw'Unable to find anchor target "'+mb.value+'"';continue}if('data-smooth-scrolling'===mb.name){hb='off'!==mb.value;continue}if('data-edge-strategy'===mb.name){ib=mb.value;continue}if('data-emit-events'===mb.name){jb=!0;continue}var nb=mb.name.match(P);if(null!==nb){var ob={props:mb.value,element:eb,eventType:mb.name.replace(S,T)};gb.push(ob);var pb=nb[1];pb&&(ob.constant=pb.substr(1));var qb=nb[2];/p$/.test(qb)?(ob.isPercentage=!0,ob.offset=(0|qb.slice(0,-1))/100):ob.offset=0|qb;var rb=nb[3],sb=nb[4]||rb;rb&&rb!=='start'&&rb!==J?(ob.mode='relative',ob.anchors=[rb,sb]):(ob.mode='absolute',rb===J?ob.isEnd=!0:!ob.isPercentage&&(ob.offset*=Ha))}}if(gb.length){var tb,ub,vb;!db&&M in eb?(vb=eb[M],tb=Ca[vb].styleAttr,ub=Ca[vb].classAttr):(vb=eb[M]=Va++,tb=eb.style.cssText,ub=va(eb)),Ca[vb]={element:eb,styleAttr:tb,classAttr:ub,anchorTarget:fb,keyFrames:gb,smoothScrolling:hb,edgeStrategy:ib,emitEvents:jb,lastFrameIndex:-1},wa(eb,[v],[])}}}for(sa(),bb=0,cb=ab.length;bb<cb;bb++){var wb=Ca[ab[bb][M]];wb!==f&&(ga(wb),ia(wb))}return Ba},g.prototype.relativeToAbsolute=function(ab,bb,cb){var db=m.clientHeight,eb=ab.getBoundingClientRect(),fb=eb.top,gb=eb.bottom-eb.top;return bb===L?fb-=db:bb==K&&(fb-=db/2),cb===L?fb+=gb:cb==K&&(fb+=gb/2),fb+=Ba.getScrollTop(),0|fb+0.5},g.prototype.animateTo=function(ab,bb){bb=bb||{};var cb=za(),db=Ba.getScrollTop(),eb=bb.duration===f?1e3:bb.duration;return Qa={startTop:db,topDiff:ab-db,targetTop:ab,duration:eb,startTime:cb,endTime:cb+eb,easing:ba[bb.easing||D],done:bb.done},Qa.topDiff||(Qa.done&&Qa.done.call(Ba,!1),Qa=f),Ba},g.prototype.stopAnimateTo=function(){Qa&&Qa.done&&Qa.done.call(Ba,!0),Qa=f},g.prototype.isAnimatingTo=function(){return!!Qa},g.prototype.isMobile=function(){return Xa},g.prototype.setScrollTop=function(ab,bb){return Ua=!0===bb,Xa?Ya=j.min(j.max(ab,0),Ga):c.scrollTo(0,ab),Ba},g.prototype.getScrollTop=function(){return Xa?Ya:c.pageYOffset||m.scrollTop||o.scrollTop||0},g.prototype.getMaxScrollTop=function(){return Ga},g.prototype.on=function(ab,bb){return Ea[ab]=bb,Ba},g.prototype.off=function(ab){return delete Ea[ab],Ba},g.prototype.destroy=function(){var ab=aa();ab(_a),qa(),wa(m,[A],[z,B,C]);for(var bb=0,cb=Ca.length;bb<cb;bb++)ma(Ca[bb].element);m.style.overflow=o.style.overflow='',m.style.height=o.style.height='',Da&&h.setStyle(Da,'transform','none'),Ba=f,Da=f,Ea=f,Fa=f,Ga=0,Ha=1,Ia=f,Ja=f,Ka='down',La=-1,Na=0,Oa=0,Pa=!1,Qa=f,Ra=f,Sa=f,Ta=f,Ua=f,Va=0,Wa=f,Xa=!1,Ya=0,Za=f};var ca=function(){var ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb;oa(m,[q,r,t,u].join(' '),function(mb){var nb=mb.changedTouches[0];for(db=mb.target;3===db.nodeType;)db=db.parentNode;switch(eb=nb.clientY,fb=nb.clientX,jb=mb.timeStamp,N.test(db.tagName)||mb.preventDefault(),mb.type){case q:ab&&ab.blur(),Ba.stopAnimateTo(),ab=db,bb=gb=eb,cb=fb,ib=jb;break;case r:N.test(db.tagName)&&d.activeElement!==db&&mb.preventDefault(),hb=eb-gb,lb=jb-kb,Ba.setScrollTop(Ya-hb,!0),gb=eb,kb=jb;break;default:case t:case u:var ob=bb-eb,pb=cb-fb;if(49>pb*pb+ob*ob){if(!N.test(ab.tagName)){ab.focus();var rb=d.createEvent('MouseEvents');rb.initMouseEvent('click',!0,!0,mb.view,1,nb.screenX,nb.screenY,nb.clientX,nb.clientY,mb.ctrlKey,mb.altKey,mb.shiftKey,mb.metaKey,0,null),ab.dispatchEvent(rb)}return}ab=f;var sb=hb/lb;sb=j.max(j.min(sb,3),-3);var tb=j.abs(sb/Ja),ub=sb*tb+0.5*Ja*tb*tb,vb=Ba.getScrollTop()-ub,wb=0;vb>Ga?(wb=(Ga-vb)/ub,vb=Ga):0>vb&&(wb=-vb/ub,vb=0),tb*=1-wb,Ba.animateTo(0|vb+0.5,{easing:'outCubic',duration:tb});}}),c.scrollTo(0,0),m.style.overflow=o.style.overflow='hidden'},da=function(){var ab=m.clientHeight,bb=ta(),cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb;for(jb=0,kb=Ca.length;jb<kb;jb++)for(cb=Ca[jb],db=cb.element,eb=cb.anchorTarget,fb=cb.keyFrames,gb=0,hb=fb.length;gb<hb;gb++)ib=fb[gb],lb=ib.offset,mb=bb[ib.constant]||0,ib.frame=lb,ib.isPercentage&&(lb*=ab,ib.frame=lb),'relative'===ib.mode&&(ma(db),ib.frame=Ba.relativeToAbsolute(eb,ib.anchors[0],ib.anchors[1])-lb,ma(db,!0)),ib.frame+=mb,Fa&&!ib.isEnd&&ib.frame>Ga&&(Ga=ib.frame);for(Ga=j.max(Ga,ua()),jb=0,kb=Ca.length;jb<kb;jb++){for(cb=Ca[jb],fb=cb.keyFrames,gb=0,hb=fb.length;gb<hb;gb++)ib=fb[gb],mb=bb[ib.constant]||0,ib.isEnd&&(ib.frame=Ga-ib.offset+mb);cb.keyFrames.sort(Aa)}},ea=function(ab,bb){for(var cb=0,db=Ca.length;cb<db;cb++){var eb=Ca[cb],fb=eb.element,gb=eb.smoothScrolling?ab:bb,hb=eb.keyFrames,ib=hb.length,jb=hb[0],kb=hb[hb.length-1],lb=gb<jb.frame,mb=gb>kb.frame,nb=lb?jb:kb,ob=eb.emitEvents,pb=eb.lastFrameIndex,qb,rb;if(lb||mb){if(lb&&-1===eb.edge||mb&&1===eb.edge)continue;switch(lb?(wa(fb,[w],[y,x]),ob&&-1<pb&&(ra(fb,jb.eventType,Ka),eb.lastFrameIndex=-1)):(wa(fb,[y],[w,x]),ob&&pb<ib&&(ra(fb,kb.eventType,Ka),eb.lastFrameIndex=ib)),eb.edge=lb?-1:1,eb.edgeStrategy){case'reset':ma(fb);continue;case'ease':gb=nb.frame;break;default:case'set':var sb=nb.props;for(qb in sb)i.call(sb,qb)&&(rb=la(sb[qb].value),0===qb.indexOf('@')?fb.setAttribute(qb.substr(1),rb):h.setStyle(fb,qb,rb));continue;}}else 0!==eb.edge&&(wa(fb,[v,x],[w,y]),eb.edge=0);for(var tb=0;tb<ib-1;tb++)if(gb>=hb[tb].frame&&gb<=hb[tb+1].frame){var ub=hb[tb],vb=hb[tb+1];for(qb in ub.props)if(i.call(ub.props,qb)){var wb=(gb-ub.frame)/(vb.frame-ub.frame);wb=ub.props[qb].easing(wb),rb=ka(ub.props[qb].value,vb.props[qb].value,wb),rb=la(rb),0===qb.indexOf('@')?fb.setAttribute(qb.substr(1),rb):h.setStyle(fb,qb,rb)}ob&&pb!==tb&&('down'==Ka?ra(fb,ub.eventType,Ka):ra(fb,vb.eventType,Ka),eb.lastFrameIndex=tb);break}}},fa=function(){Pa&&(Pa=!1,sa());var ab=Ba.getScrollTop(),bb,cb=za(),db;if(Qa)cb>=Qa.endTime?(ab=Qa.targetTop,bb=Qa.done,Qa=f):(db=Qa.easing((cb-Qa.startTime)/Qa.duration),ab=0|Qa.startTop+db*Qa.topDiff),Ba.setScrollTop(ab,!0);else if(!Ua){var eb=Ta.targetTop-ab;eb&&(Ta={startTop:La,topDiff:ab-La,targetTop:ab,startTime:Ma,endTime:Ma+Sa}),cb<=Ta.endTime&&(db=ba.sqrt((cb-Ta.startTime)/Sa),ab=0|Ta.startTop+db*Ta.topDiff)}if(Ua||La!==ab){Ka=ab>La?'down':ab<La?'up':Ka,Ua=!1;var fb={curTop:ab,lastTop:La,maxTop:Ga,direction:Ka},gb=Ea.beforerender&&Ea.beforerender.call(Ba,fb);!1!==gb&&(ea(ab,Ba.getScrollTop()),Xa&&Da&&h.setStyle(Da,'transform','translate(0, '+-Ya+'px) '+Za),La=ab,Ea.render&&Ea.render.call(Ba,fb)),bb&&bb.call(Ba,!1)}Ma=cb},ga=function(ab){for(var bb=0,cb=ab.keyFrames.length;bb<cb;bb++){for(var eb,fb,gb,ib,db=ab.keyFrames[bb],hb={};null!==(ib=Q.exec(db.props));)gb=ib[1],fb=ib[2],eb=gb.match(R),null===eb?eb=D:(gb=eb[1],eb=eb[2]),fb=fb.indexOf('!')?ha(fb):[fb.slice(1)],hb[gb]={value:fb,easing:ba[eb]};db.props=hb}},ha=function(ab){var bb=[];return W.lastIndex=0,ab=ab.replace(W,function(cb){return cb.replace(U,function(db){return 100*(db/255)+'%'})}),Z&&(X.lastIndex=0,ab=ab.replace(X,function(cb){return Z+cb})),ab=ab.replace(U,function(cb){return bb.push(+cb),'{?}'}),bb.unshift(ab),bb},ia=function(ab){var bb={},cb,db;for(cb=0,db=ab.keyFrames.length;cb<db;cb++)ja(ab.keyFrames[cb],bb);for(bb={},cb=ab.keyFrames.length-1;0<=cb;cb--)ja(ab.keyFrames[cb],bb)},ja=function(ab,bb){for(var cb in bb)i.call(ab.props,cb)||(ab.props[cb]=bb[cb]);for(cb in ab.props)bb[cb]=ab.props[cb]},ka=function(ab,bb,cb){var db,eb=ab.length;if(eb!==bb.length)throw'Can\'t interpolate between "'+ab[0]+'" and "'+bb[0]+'"';var fb=[ab[0]];for(db=1;db<eb;db++)fb[db]=ab[db]+(bb[db]-ab[db])*cb;return fb},la=function(ab){var bb=1;return V.lastIndex=0,ab[0].replace(V,function(){return ab[bb++]})},ma=function(ab,bb){ab=[].concat(ab);for(var cb,db,eb=0,fb=ab.length;eb<fb;eb++)(db=ab[eb],cb=Ca[db[M]],!!cb)&&(bb?(db.style.cssText=cb.dirtyStyleAttr,wa(db,cb.dirtyClassAttr)):(cb.dirtyStyleAttr=db.style.cssText,cb.dirtyClassAttr=va(db),db.style.cssText=cb.styleAttr,wa(db,cb.classAttr)))},na=function(){Za='translateZ(0)',h.setStyle(Da,'transform',Za);var ab=l(Da),bb=ab.getPropertyValue('transform'),cb=ab.getPropertyValue(Z+'transform');bb&&'none'!==bb||cb&&'none'!==cb||(Za='')};h.setStyle=function(ab,bb,cb){var db=ab.style;if(bb=bb.replace(S,T).replace('-',''),'zIndex'===bb)db[bb]=isNaN(cb)?cb:''+(0|cb);else if('float'===bb)db.styleFloat=db.cssFloat=cb;else try{Y&&(db[Y+bb.slice(0,1).toUpperCase()+bb.slice(1)]=cb),db[bb]=cb}catch(eb){}};var oa=h.addEvent=function(ab,bb,cb){var db=function(hb){return hb=hb||c.event,hb.target||(hb.target=hb.srcElement),hb.preventDefault||(hb.preventDefault=function(){hb.returnValue=!1,hb.defaultPrevented=!0}),cb.call(this,hb)};bb=bb.split(' ');for(var eb,fb=0,gb=bb.length;fb<gb;fb++)eb=bb[fb],ab.addEventListener?ab.addEventListener(eb,cb,!1):ab.attachEvent('on'+eb,db),$a.push({element:ab,name:eb,listener:cb})},pa=h.removeEvent=function(ab,bb,cb){bb=bb.split(' ');for(var db=0,eb=bb.length;db<eb;db++)ab.removeEventListener?ab.removeEventListener(bb[db],cb,!1):ab.detachEvent('on'+bb[db],cb)},qa=function(){for(var ab,bb=0,cb=$a.length;bb<cb;bb++)ab=$a[bb],pa(ab.element,ab.name,ab.listener);$a=[]},ra=function(ab,bb,cb){Ea.keyframe&&Ea.keyframe.call(Ba,ab,bb,cb)},sa=function(){var ab=Ba.getScrollTop();Ga=0,Fa&&!Xa&&(o.style.height=''),da(),Fa&&!Xa&&(o.style.height=Ga+m.clientHeight+'px'),Xa?Ba.setScrollTop(j.min(Ba.getScrollTop(),Ga)):Ba.setScrollTop(ab,!0),Ua=!0},ta=function(){var ab=m.clientHeight,bb={},cb,db;for(cb in Ia)db=Ia[cb],'function'==typeof db?db=db.call(Ba):/p$/.test(db)&&(db=db.slice(0,-1)/100*ab),bb[cb]=db;return bb},ua=function(){var bb,ab=0;return Da&&(ab=j.max(Da.offsetHeight,Da.scrollHeight)),bb=j.max(ab,o.scrollHeight,o.offsetHeight,m.scrollHeight,m.offsetHeight,m.clientHeight),bb-m.clientHeight},va=function(ab){var bb='className';return c.SVGElement&&ab instanceof c.SVGElement&&(ab=ab[bb],bb='baseVal'),ab[bb]},wa=function(ab,bb,cb){var db='className';if(c.SVGElement&&ab instanceof c.SVGElement&&(ab=ab[db],db='baseVal'),cb===f)return void(ab[db]=bb);for(var eb=ab[db],fb=0,gb=cb.length;fb<gb;fb++)eb=ya(eb).replace(ya(cb[fb]),' ');eb=xa(eb);for(var hb=0,ib=bb.length;hb<ib;hb++)-1===ya(eb).indexOf(ya(bb[hb]))&&(eb+=' '+bb[hb]);ab[db]=xa(eb)},xa=function(ab){return ab.replace(O,'')},ya=function(ab){return' '+ab+' '},za=Date.now||function(){return+new Date},Aa=function(ab,bb){return ab.frame-bb.frame},Ba,Ca,Da,Ea,Fa,Ga=0,Ha=1,Ia,Ja,Ka='down',La=-1,Ma=za(),Na=0,Oa=0,Pa=!1,Qa,Ra,Sa,Ta,Ua,Va=0,Wa,Xa=!1,Ya=0,Za,$a=[],_a;'function'==typeof define&&define.amd?define([],function(){return h}):'undefined'!=typeof module&&module.exports?module.exports=h:c.skrollr=h})(window,document);